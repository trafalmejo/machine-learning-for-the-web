<!--
 Copyright (c) 2018 ml5
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<html>

<head>
  <meta charset="UTF-8">
  <title>Webcam Image Classification using MobileNet and p5.js</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"></script>
  <script src="https://unpkg.com/ml5@0.1.1/dist/ml5.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script type="text/javascript">
   var keyword = "cat";

   $(document).ready(function(){

    $.getJSON("https://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",
    {
      tags: keyword,
      tagmode: "any",
      format: "json"
    },
    function(data) {
      var rnd = Math.floor(Math.random() * data.items.length);

      var image_src = data.items[rnd]['media']['m'].replace("_m", "_b");

      $('body').css('background-image', "url('" + image_src + "')");

    });

  });
</script>
</head>

<body>
  <h1>Webcam Image Classification using MobileNet and p5.js</h1>
  <p id='status'>Loading Model...</p>
  <p>
    The MobileNet model labeled this as <span id="result">...</span>
    <br/>
    <span id="size"></span>
    <br/>with a confidence of <span id="probability">...</span>.
  </p>
  <script src="sketch.js"></script>
</body>

</html>
